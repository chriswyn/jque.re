(function($){$.fn.pagify=function(options){var self=this;this.defaults={pages:[],"default":null,animation:"show",animationSpeed:"normal",animationOut:"hide",animationOutSpeed:0,onChange:function(page){},cache:false};this.settings=$.extend({},this.defaults,options);var runAfterLoading=function(){self.switchPage=function(page){if(!page){page=window.location.hash.replace("#","")||self.settings["default"]}if(self.settings.cache){$(self)[self.settings.animationOut](self.settings.animationOutSpeed,function(){$(self).html(self.pages[page])[self.settings.animation](self.settings.animationSpeed)});self.settings.onChange(page)}else{$.get(page+".html",function(content){$(self)[self.settings.animationOut](self.settings.animationOutSpeed,function(){$(self).html(content)[self.settings.animation](self.settings.animationSpeed)});self.settings.onChange(page)},"text")}};$(window).bind("hashchange",function(){self.switchPage()});if(window.location.hash){self.switchPage()}else{if(self.settings["default"]){self.switchPage(self.settings["default"])}}};if(self.settings.cache){self.pages={};var pageLoads=self.settings.pages.length;$.each(self.settings.pages,function(ndx,page){$.get(page+".html",function(content){self.pages[page]=content;pageLoads--;if(!pageLoads){runAfterLoading()}},"text")})}else{runAfterLoading()}}})(jQuery);